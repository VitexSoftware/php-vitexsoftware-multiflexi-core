{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "MultiFlexi Credential Prototype Schema",
  "description": "JSON schema for MultiFlexi credential prototype definitions",
  "type": "object",
  "required": ["uuid", "code", "name", "version"],
  "properties": {
    "uuid": {
      "type": "string",
      "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
      "description": "Unique identifier for the credential prototype"
    },
    "code": {
      "type": "string",
      "pattern": "^[a-zA-Z0-9_-]{2,64}$",
      "description": "Alphanumeric identifier for the credential prototype"
    },
    "name": {
      "type": "string",
      "minLength": 1,
      "maxLength": 255,
      "description": "Human readable name"
    },
    "description": {
      "type": "string",
      "description": "Description of the credential prototype"
    },
    "version": {
      "type": "string",
      "pattern": "^\\d+\\.\\d+(\\.\\d+)?$",
      "description": "Version in semantic versioning format"
    },
    "logo": {
      "type": "string",
      "description": "Path to logo file"
    },
    "url": {
      "type": "string",
      "format": "uri",
      "description": "URL for more information"
    },
    "fields": {
      "type": "array",
      "description": "Configuration fields for this credential type",
      "items": {
        "type": "object",
        "required": ["keyword", "type"],
        "properties": {
          "keyword": {
            "type": "string",
            "pattern": "^[A-Z][A-Z0-9_]*$",
            "description": "Field identifier in uppercase with underscores"
          },
          "type": {
            "type": "string",
            "enum": ["string", "password", "email", "url", "integer", "boolean", "select", "textarea", "file"],
            "description": "Field input type"
          },
          "name": {
            "type": "string",
            "description": "Human readable field name"
          },
          "description": {
            "type": "string",
            "description": "Field description"
          },
          "hint": {
            "type": "string",
            "description": "Hint or placeholder text"
          },
          "default_value": {
            "type": "string",
            "description": "Default value for the field"
          },
          "required": {
            "type": "boolean",
            "default": false,
            "description": "Whether this field is required"
          },
          "options": {
            "type": "array",
            "description": "Available options for select fields",
            "items": {
              "type": "object",
              "properties": {
                "value": {"type": "string"},
                "label": {"type": "string"}
              },
              "required": ["value", "label"]
            }
          }
        }
      }
    }
  }
}